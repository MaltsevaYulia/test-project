{"version":3,"file":"static/js/281.f07a80c0.chunk.js","mappings":"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","sources":["servises/getUsers.js","servises/updateUser.js","webpack://test-project/./src/components/UsersList/UsersList.module.css?09e2","components/UsersList/UsersList.jsx","webpack://test-project/./src/pages/TweetsPage/TweetsPage.module.css?4f0b","webpack://test-project/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.jsx","servises/getVisibleUsers.js","pages/TweetsPage/TweetsPage.jsx"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://6457ba0d1a4c152cf988e1a5.mockapi.io\";\n\nexport const getUsers =async () => {\n    \n    try {\n        const respons = await axios.get(\"/users\"); \n        return respons.data\n    } catch (error) {\n        \n    }\n};\n","import axios from 'axios';\n\nexport const updateUser = async (id,user) => {\n  try {\n    const respons = await axios.put(`/users/${id}`, user);\n    return respons.data;\n  } catch (error) {}\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"UsersList_list__cvnrs\",\"item\":\"UsersList_item__3Iudx\",\"avatarWrapp\":\"UsersList_avatarWrapp__U1dUA\",\"before\":\"UsersList_before__3Okqc\",\"after\":\"UsersList_after__8rBD0\",\"avatar\":\"UsersList_avatar__+Vssp\",\"text\":\"UsersList_text__lfq4p\",\"tweets\":\"UsersList_tweets__C5P-l\",\"followers\":\"UsersList_followers__czj+k\",\"btn\":\"UsersList_btn__J3Rt3\",\"followingBtn\":\"UsersList_followingBtn__lb9T3\"};","import css from '../UsersList/UsersList.module.css';\n\nexport const UsersList = ({ users, handleFollow }) => {\n  return (\n      <ul className={css.list}>\n        {users.length > 0 &&\n          users.map(({ id, avatar, user, tweets, followers, isFollow }) => (\n            <li key={id} className={css.item}>\n              <div className={css.avatarWrapp}>\n                <div className={css.before}></div>\n                <div className={css.after}>\n                  <img className={css.avatar} src={avatar} alt={user} />\n                </div>\n              </div>\n              <p className={`${css.text} ${css.tweets}`}>{tweets} tweets</p>\n              <p className={`${css.text} ${css.followers}`}>\n                {followers.toLocaleString('en-US')} followers\n              </p>\n              <button\n                className={\n                  isFollow ? `${css.btn} ${css.followingBtn}` : `${css.btn}`\n                }\n                type=\"button\"\n                onClick={() =>\n                  handleFollow({\n                    id,\n                    avatar,\n                    user,\n                    tweets,\n                    followers,\n                    isFollow: !isFollow,\n                  })\n                }\n              >\n                {isFollow ? 'Following' : 'Follow'}\n              </button>\n            </li>\n          ))}\n      </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"TweetsPage_wrapper__1Jout\",\"container\":\"TweetsPage_container__aInBg\",\"goBack\":\"TweetsPage_goBack__FOa3V\",\"pagination\":\"TweetsPage_pagination__EucHf\",\"page\":\"TweetsPage_page__h1S2o\",\"active\":\"TweetsPage_active__5q-UL\"};","// extracted by mini-css-extract-plugin\nexport default {\"filters\":\"Filter_filters__n5Vfb\",\"title\":\"Filter_title__pSkfx\",\"filterBtn\":\"Filter_filterBtn__BTiM7\",\"activeFilter\":\"Filter_activeFilter__YOTao\"};","import { useState } from 'react';\nimport { GrFilter } from 'react-icons/gr';\nimport { AiOutlineArrowDown } from 'react-icons/ai';\nimport css from '../Filter/Filter.module.css';\n\nconst Filter = ({ handleFilterChange, filterStatus }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleFilter = () => {\n    setIsOpen(prev => !prev);\n  };\n\n  const handleClick = e => {\n    handleFilterChange(e);\n    toggleFilter();\n  };\n\n  return (\n    <div className={css.filters}>\n        <p className={css.title}>Filter</p><GrFilter />\n        <button\n          type=\"button\"\n          className={`${css.filterBtn} ${css.activeFilter}`}\n          onClick={toggleFilter}\n        >\n          {filterStatus}\n          <AiOutlineArrowDown />\n        </button>\n\n        {isOpen && (\n          <>\n            <button\n              type=\"button\"\n              className={\n                filterStatus === 'all'\n                  ? `${css.filterBtn} ${css.activeFilter}`\n                  : `${css.filterBtn}`\n              }\n              name=\"all\"\n              onClick={handleClick}\n            >\n              show all\n            </button>\n            <button\n              type=\"button\"\n              className={\n                filterStatus === 'follow'\n                  ? `${css.filterBtn} ${css.activeFilter}`\n                  : `${css.filterBtn}`\n              }\n              name=\"follow\"\n              onClick={handleClick}\n            >\n              follow\n            </button>\n            <button\n              type=\"button\"\n              className={\n                filterStatus === 'followings'\n                  ? `${css.filterBtn} ${css.activeFilter}`\n                  : `${css.filterBtn}`\n              }\n              name=\"followings\"\n              onClick={handleClick}\n            >\n              followings\n            </button>\n          </>\n        )}\n    </div>\n  );\n};\nexport default Filter;\n","export const getVisibleUsers = (users, filterStatus) => {\n  if (filterStatus === 'all') {\n    return users;\n  } else if (filterStatus === 'follow') {\n    return users.filter(user => !user.isFollow);\n  } else if (filterStatus === 'followings') {\n    return users.filter(user => user.isFollow);\n  }\n}; ","import { useEffect, useRef, useState } from 'react';\nimport { getUsers } from 'servises/getUsers';\nimport { updateUser } from 'servises/updateUser';\nimport ReactPaginate from 'react-paginate';\nimport { UsersList } from 'components/UsersList/UsersList';\nimport css from '../TweetsPage/TweetsPage.module.css';\nimport { MdKeyboardBackspace } from 'react-icons/md';\nimport { Link, useLocation } from 'react-router-dom';\nimport Filter from 'components/Filter/Filter';\nimport { getVisibleUsers } from 'servises/getVisibleUsers';\n\nconst TweetsPage = () => {\n  const [users, setUsers] = useState([]);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  const [filterStatus, setfilterStatus] = useState('all'); //\n  const [currentItems, setCurrentItems] = useState([]);\n  const [pageCount, setPageCount] = useState(0);\n  const [itemOffset, setItemOffset] = useState(0);\n  const itemsPerPage = 3;\n\n  useEffect(() => {\n    getUsers()\n      .then(res => {\n        setUsers(res);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleFollow = user => {\n    setUsers(prevState =>\n      prevState.map(el => {\n        if (el.id === user.id) {\n          updateUser(user.id, {\n            ...el,\n            followers: !el.isFollow ? el.followers + 1 : el.followers - 1,\n            isFollow: !el.isFollow,\n          });\n          return {\n            ...el,\n            followers: !el.isFollow ? el.followers + 1 : el.followers - 1,\n            isFollow: !el.isFollow,\n          };\n        } else return el;\n      })\n    );\n  };\n\n  useEffect(() => {\n    const visibleUsers = getVisibleUsers(users, filterStatus);\n    const endOffset = itemOffset + itemsPerPage;\n    setCurrentItems(visibleUsers.slice(itemOffset, endOffset));\n    setPageCount(Math.ceil(visibleUsers.length / itemsPerPage));\n  }, [filterStatus, itemOffset, users]);\n\n  const handlePageClick = event => {\n    const newOffset =\n      (event.selected * itemsPerPage) %\n      getVisibleUsers(users, filterStatus).length;\n    setItemOffset(newOffset);\n  };\n\n  const handleFilterChange = e => {\n    const filter = e.target.name;\n    setfilterStatus(filter);\n  };\n\n  return (\n    <>\n      <div className={css.wrapper}>\n        <Link className=\"goBack\" to={backLinkLocationRef.current}>\n          <div className={css.goBack}>\n            {<MdKeyboardBackspace />}\n            <span>Go back</span>\n          </div>\n        </Link>\n      </div>\n      <Filter\n        handleFilterChange={handleFilterChange}\n        filterStatus={filterStatus}\n      />\n      <div className=\"container\">\n        <UsersList users={currentItems} handleFollow={handleFollow} />\n        <ReactPaginate\n          breakLabel=\"...\"\n          nextLabel=\" >\"\n          onPageChange={handlePageClick}\n          pageRangeDisplayed={5}\n          pageCount={pageCount}\n          previousLabel=\"< \"\n          renderOnZeroPageCount={null}\n          className={css.pagination}\n          pageLinkClassName={css.page}\n          previousLinkClassName={css.page}\n          nextLinkClassName={css.page}\n          activeLinkClassName={css.active}\n        />\n      </div>\n    </>\n  );\n};\nexport default TweetsPage;\n"],"names":["axios","getUsers","respons","data","updateUser","id","user","UsersList","users","handleFollow","className","css","length","map","avatar","tweets","followers","isFollow","src","alt","toLocaleString","type","onClick","handleFilterChange","filterStatus","useState","isOpen","setIsOpen","toggleFilter","prev","handleClick","e","name","getVisibleUsers","filter","setUsers","location","useLocation","backLinkLocationRef","useRef","state","from","setfilterStatus","currentItems","setCurrentItems","pageCount","setPageCount","itemOffset","setItemOffset","useEffect","then","res","catch","error","console","log","visibleUsers","endOffset","slice","Math","ceil","to","current","target","prevState","el","breakLabel","nextLabel","onPageChange","event","newOffset","selected","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","pageLinkClassName","previousLinkClassName","nextLinkClassName","activeLinkClassName"],"sourceRoot":""}