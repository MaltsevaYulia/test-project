"use strict";(self.webpackChunktest_project=self.webpackChunktest_project||[]).push([[281],{281:function(e,t,s){s.r(t),s.d(t,{default:function(){return M}});var n=s(683),a=s(439),l=s(791),r=s(861),o=s(757),c=s.n(o),i=s(243);i.Z.defaults.baseURL="https://6457ba0d1a4c152cf988e1a5.mockapi.io";var u=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/users");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t,s){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.put("/users/".concat(t),s);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,s){return e.apply(this,arguments)}}(),_=s(48),d=s.n(_),p="UsersList_list__cvnrs",w="UsersList_item__3Iudx",h="UsersList_avatarWrapp__U1dUA",v="UsersList_before__3Okqc",m="UsersList_after__8rBD0",x="UsersList_avatar__+Vssp",g="UsersList_text__lfq4p",j="UsersList_tweets__C5P-l",b="UsersList_followers__czj+k",F="UsersList_btn__J3Rt3",N="UsersList_followingBtn__lb9T3",k=s(184),L=function(e){var t=e.users,s=e.handleFollow;return(0,k.jsx)("ul",{className:p,children:t.length>0&&t.map((function(e){var t=e.id,n=e.avatar,a=e.user,l=e.tweets,r=e.followers,o=e.isFollow;return(0,k.jsxs)("li",{className:w,children:[(0,k.jsxs)("div",{className:h,children:[(0,k.jsx)("div",{className:v}),(0,k.jsx)("div",{className:m,children:(0,k.jsx)("img",{className:x,src:n,alt:a})})]}),(0,k.jsxs)("p",{className:"".concat(g," ").concat(j),children:[l," tweets"]}),(0,k.jsxs)("p",{className:"".concat(g," ").concat(b),children:[r.toLocaleString("en-US")," followers"]}),(0,k.jsx)("button",{className:o?"".concat(F," ").concat(N):"".concat(F),type:"button",onClick:function(){return s({id:t,avatar:n,user:a,tweets:l,followers:r,isFollow:!o})},children:o?"Following":"Follow"})]},t)}))})},U="TweetsPage_wrapper__1Jout",C="TweetsPage_goBack__FOa3V",Z="TweetsPage_pagination__EucHf",S="TweetsPage_page__h1S2o",T="TweetsPage_active__5q-UL",y=s(856),P=s(689),B=s(87),O=s(53),R=s(820),q="Filter_filters__n5Vfb",D="Filter_title__pSkfx",E="Filter_filterBtn__BTiM7",V="Filter_activeFilter__YOTao",H=function(e){var t=e.handleFilterChange,s=e.filterStatus,n=(0,l.useState)(!1),r=(0,a.Z)(n,2),o=r[0],c=r[1],i=function(){c((function(e){return!e}))},u=function(e){t(e),i()};return(0,k.jsxs)("div",{className:q,children:[(0,k.jsx)("p",{className:D,children:"Filter"}),(0,k.jsx)(O.sU$,{}),(0,k.jsxs)("button",{type:"button",className:"".concat(E," ").concat(V),onClick:i,children:[s,(0,k.jsx)(R.Duv,{})]}),o&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{type:"button",className:"all"===s?"".concat(E," ").concat(V):"".concat(E),name:"all",onClick:u,children:"show all"}),(0,k.jsx)("button",{type:"button",className:"follow"===s?"".concat(E," ").concat(V):"".concat(E),name:"follow",onClick:u,children:"follow"}),(0,k.jsx)("button",{type:"button",className:"followings"===s?"".concat(E," ").concat(V):"".concat(E),name:"followings",onClick:u,children:"followings"})]})]})},J=function(e,t){return"all"===t?e:"follow"===t?e.filter((function(e){return!e.isFollow})):"followings"===t?e.filter((function(e){return e.isFollow})):void 0},M=function(){var e,t,s=(0,l.useState)([]),r=(0,a.Z)(s,2),o=r[0],c=r[1],i=(0,P.TH)(),_=(0,l.useRef)(null!==(e=null===(t=i.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),p=(0,l.useState)("all"),w=(0,a.Z)(p,2),h=w[0],v=w[1],m=(0,l.useState)([]),x=(0,a.Z)(m,2),g=x[0],j=x[1],b=(0,l.useState)(0),F=(0,a.Z)(b,2),N=F[0],O=F[1],R=(0,l.useState)(0),q=(0,a.Z)(R,2),D=q[0],E=q[1];(0,l.useEffect)((function(){u().then((function(e){c(e)})).catch((function(e){console.log(e)}))}),[]);(0,l.useEffect)((function(){var e=J(o,h),t=D+3;j(e.slice(D,t)),O(Math.ceil(e.length/3))}),[h,D,o]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:U,children:(0,k.jsx)(B.rU,{className:"goBack",to:_.current,children:(0,k.jsxs)("div",{className:C,children:[(0,k.jsx)(y.dWm,{}),(0,k.jsx)("span",{children:"Go back"})]})})}),(0,k.jsx)(H,{handleFilterChange:function(e){var t=e.target.name;v(t)},filterStatus:h}),(0,k.jsxs)("div",{className:"container",children:[(0,k.jsx)(L,{users:g,handleFollow:function(e){c((function(t){return t.map((function(t){return t.id===e.id?(f(e.id,(0,n.Z)((0,n.Z)({},t),{},{followers:t.isFollow?t.followers-1:t.followers+1,isFollow:!t.isFollow})),(0,n.Z)((0,n.Z)({},t),{},{followers:t.isFollow?t.followers-1:t.followers+1,isFollow:!t.isFollow})):t}))}))}}),(0,k.jsx)(d(),{breakLabel:"...",nextLabel:" >",onPageChange:function(e){var t=3*e.selected%J(o,h).length;E(t)},pageRangeDisplayed:5,pageCount:N,previousLabel:"< ",renderOnZeroPageCount:null,className:Z,pageLinkClassName:S,previousLinkClassName:S,nextLinkClassName:S,activeLinkClassName:T})]})]})}}}]);
//# sourceMappingURL=281.f07a80c0.chunk.js.map